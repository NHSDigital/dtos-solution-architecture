---
# id of your service, used for slugs and references in EventCatalog.
id: AuditStoreService

# Display name of the Service, rendered in EventCatalog
name: Audit Store Service

# Version of the Service
version: 0.0.1

# Short summary of your Service
summary: |
  Service responsible for maintaining an immutable audit trail of all events across the screening service domains.

# Optional badges, rendered to UI by EventCatalog
badges:
  - content: New service
    backgroundColor: blue
    textColor: blue
---

## Overview

The AuditStoreService is responsible for capturing and storing all events from across the screening service domains in an immutable format. It provides a complete audit trail for compliance, investigation, and analysis purposes.

## Service Responsibilities

1. Event Capture

   - Subscribe to all events from all domains
   - Validate event integrity and completeness
   - Maintain event ordering and sequence

2. Immutable Storage

   - Store events in an immutable format
   - Preserve event metadata and context
   - Ensure data integrity and tamper-evidence

3. Audit Trail Management

   - Maintain complete event history
   - Support event replay and reconstruction
   - Enable temporal queries and analysis

4. Compliance Support

   - Support regulatory compliance requirements
   - Enable audit trail verification
   - Provide evidence for investigations

## Service Properties

### Required Properties

- `serviceId`: Unique identifier of the service
- `version`: Current version of the service
- `environment`: Deployment environment
- `storageConfig`: Configuration for immutable storage
- `eventSubscriptions`: List of subscribed events

### Optional Properties

- `retentionConfig`: Data retention configuration
- `encryptionConfig`: Encryption settings
- `accessControlConfig`: Access control settings
- `monitoringConfig`: Monitoring and metrics configuration

## Service Events

### Consumes Events

#### Participant Manager Domain

- `ParticipantCreated`
- `ParticipantUpdated`
- `ParticipantDeactivated`
- `ParticipantReactivated`
- `ParticipantConsentUpdated`
- `ParticipantContactDetailsUpdated`
- `ParticipantDemographicsUpdated`
- `ParticipantEligibilityUpdated`
- `ParticipantRiskLevelUpdated`
- `ParticipantStatusChanged`

#### Appointment Domain

- `AppointmentAllocated`
- `AppointmentBooked`
- `AppointmentCancelled`
- `AppointmentAttended`
- `AppointmentNotAttended`
- `AllocationFailed`
- `BookingFailed`
- `CancellationFailed`

#### Screening Pathway Domain

- `PathwayEnrolmentCreated`
- `PathwayEnrolmentUpdated`
- `PathwayEnrolmentCompleted`
- `PathwayEnrolmentCancelled`
- `PathwayStatusChanged`
- `PathwayMilestoneReached`
- `PathwayOutcomeRecorded`
- `PathwayTransitionOccurred`

#### Results Management Domain

- `ResultRecorded`
- `ResultUpdated`
- `ResultValidated`
- `ResultAmended`
- `ResultCancelled`
- `ResultNotificationSent`
- `ResultActionRequired`
- `ResultActionCompleted`

#### Quality Assurance Domain

- `QualityCheckInitiated`
- `QualityCheckCompleted`
- `QualityIssueIdentified`
- `QualityIssueResolved`
- `QualityAuditStarted`
- `QualityAuditCompleted`
- `QualityMetricsUpdated`
- `QualityReportGenerated`

#### Cohort Manager Domain

- `CohortCreated`
- `CohortUpdated`
- `CohortClosed`
- `CohortMemberAdded`
- `CohortMemberRemoved`
- `CohortCriteriaUpdated`
- `CohortStatusChanged`

#### Campaign Manager Domain

- `CampaignCreated`
- `CampaignUpdated`
- `CampaignLaunched`
- `CampaignPaused`
- `CampaignResumed`
- `CampaignCompleted`
- `CampaignCancelled`
- `CampaignMetricsUpdated`

#### Communications Manager Domain

- `CommunicationSent`
- `CommunicationDelivered`
- `CommunicationFailed`
- `CommunicationTemplateCreated`
- `CommunicationTemplateUpdated`
- `CommunicationPreferenceUpdated`
- `CommunicationChannelUpdated`

#### Participant Support Domain

- `SupportRequestCreated`
- `SupportRequestUpdated`
- `SupportRequestResolved`
- `SupportRequestEscalated`
- `SupportInteractionRecorded`
- `SupportOutcomeRecorded`
- `SupportFeedbackReceived`

#### Business Audit Domain

- `AuditInitiated`
- `AuditCompleted`
- `AuditFindingRecorded`
- `AuditActionRequired`
- `AuditActionCompleted`
- `AuditReportGenerated`
- `AuditFollowUpRequired`

### Publishes Events

- `EventStored`: When an event is successfully stored in the audit trail
- `EventValidationFailed`: When event validation fails
- `StorageIntegrityAlert`: When storage integrity issues are detected

## Service Commands

### Handles Commands

- `RetrieveAuditTrail`: Retrieve events for a specific audit trail
- `VerifyAuditTrail`: Verify the integrity of an audit trail
- `ExportAuditData`: Export audit data for compliance purposes
- `ConfigureRetention`: Update data retention settings

## Service Dependencies

### Required Services

- Event Bus Service
- Immutable Storage Service
- Monitoring Service
- Alerting Service

### Optional Services

- Encryption Service
- Access Control Service
- Configuration Service

## Service Configuration

### Storage Configuration

- Immutable storage settings
- Data retention policies
- Backup configuration
- Encryption settings

### Access Control Configuration

- Access policies
- Authentication settings
- Authorization rules
- Audit logging settings

### Monitoring Configuration

- Performance metrics
- Health checks
- Logging levels
- Alert thresholds

<Schema />{" "}
