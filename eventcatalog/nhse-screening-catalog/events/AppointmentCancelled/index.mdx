---
# id of your event, used for slugs and references in EventCatalog.
id: AppointmentCancelled

# Display name of the Event, rendered in EventCatalog
name: Appointment Cancelled

# Version of the Event
version: 0.0.1

# Short summary of your Event
summary: |
  Event indicating that an appointment (allocated or booked) has been cancelled.

# Optional badges, rendered to UI by EventCatalog
badges:
  - content: New event
    backgroundColor: blue
    textColor: blue
---

## Overview

The AppointmentCancelled event is published when an appointment is cancelled, whether it was previously allocated or booked. This event indicates that the appointment slot is no longer assigned to the participant and may be available for reallocation.

## Event Properties

### Required Properties

- `participantId`: Unique identifier of the participant
- `appointmentId`: Unique identifier of the cancelled appointment
- `cancellationTimestamp`: When the cancellation occurred
- `cancellationReason`: The reason for the cancellation
- `cancellationSource`: Who/what initiated the cancellation
- `previousAppointmentState`: The state of the appointment before cancellation

### Optional Properties

- `reschedulingRequested`: Whether the participant requested rescheduling
- `notes`: Additional information about the cancellation
- `reallocationPriority`: Priority for reallocation if applicable

## Business Rules

1. The appointment must exist and be in a valid state
2. The cancellation must be authorised
3. The cancellation reason must be valid
4. If rescheduling is requested, appropriate follow-up actions must be initiated

## Service Publishing

This event is published by either:

- The `AppointmentAllocator` service for allocated appointments
- The `AppointmentBooker` service for booked appointments

## Related Commands

- `CancelAppointment`: The command that triggered this event
- `AllocateAppointment`: A command that may be issued after this event for rescheduling

<NodeGraph />{" "}
